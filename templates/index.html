{% extends 'base.html' %}

{% block content %}
    <h1>Stream to YouTube</h1>
    <form action="{{ url_for('upload_video') }}" method="POST" enctype="multipart/form-data">
        <label for="video">Upload Video:</label>
        <input type="file" name="video" id="video" required><br><br>
        
        <label for="stream_key">YouTube Stream Key:</label>
        <input type="text" name="stream_key" id="stream_key" required><br><br>
        
        <button type="submit">Start Streaming</button>
    </form>
    <hr>

    <h2>Active Streams</h2>
    <ul>
        {% for stream_id in streams %}
            <li>Stream ID: {{ stream_id }} 
                <form action="/stop_stream/{{ stream_id }}" method="post" style="display:inline;">
                    <button type="submit">Stop Stream</button>
                </form>
            </li>
        {% else %}
            <li>No active streams.</li>
        {% endfor %}
    </ul>
{% endblock %}